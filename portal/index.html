<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>GMCA â€“ PCN Pay Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- GOV.UK Frontend CSS (includes GDS Transport font) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/govuk-frontend@4.13.0/dist/govuk-frontend-4.13.0.min.css">

  <!-- Custom styles -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- GMCA header bar -->
  <header class="gmca-header">
    <div class="gmca-header__container">
      <img src="icon.svg" alt="GMCA logo" class="gmca-logo">
    </div>
  </header>

  <main class="govuk-width-container" id="main-content">
    <div class="lookup-card">

      <h1 class="page-title">Penalty Charge Notice Portal</h1>
      <p class="page-subtitle">Enter Penalty Charge Notice (PCN) number and vehicle registration</p>

      <form id="pcn-form" novalidate>
        <!-- PCN number -->
        <div class="form-group">
          <label for="PCN" class="form-label">PCN number</label>
          <div class="form-hint">Your PCN number starting with AW followed by 8 digits</div>
          <input class="form-input" id="PCN" name="PCN" type="text" maxlength="50" autocomplete="off">
        </div>

        <!-- Registration number -->
        <div class="form-group">
          <label for="VRM" class="form-label">Registration number</label>
          <div class="form-hint">Your vehicle registration number (number plate)</div>
          <input class="form-input" id="VRM" name="VRM" type="text" maxlength="24" autocomplete="off">
        </div>

        <button type="submit" class="search-button">Search</button>
      </form>

      <div class="bottom-text">
        <p>You can use this facility to view details, photographs or footage of your PCN.</p>

        <p>
          <a href="https://www.greatermanchester-ca.gov.uk/who-we-are/accounts-transparency-and-governance/accessibility-statement/"
             target="_blank">
            Our accessibility statement
          </a>
        </p>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const form = document.getElementById("pcn-form");

      form.addEventListener("submit", function(e) {
        e.preventDefault();

        const pcn = document.getElementById("PCN").value.trim().toUpperCase();
        const vrm = document.getElementById("VRM").value.trim().toUpperCase();

        if (!pcn || !vrm) {
          alert("Please enter both your PCN number and vehicle registration.");
          return;
        }

        // Redirect to payment page with query parameters
        const payUrl = `https://www.eryripress.co.uk/pay?pcn=${encodeURIComponent(pcn)}&vrm=${encodeURIComponent(vrm)}`;
        window.location.href = payUrl;
      });
    });
  </script>

</body>
</html>
